$(document).ready(function(){function e(){$(".wrapper").is(".wrapper_search-open")&&$(".search__input-search").blur()}var t=function(t,a){if(0===t.length)return!1;if(t.is("."+a))t.removeClass(a),l(),e();else{t.addClass(a),l();var i="wrapper_menu-open"===a?$(".menu"):$(".search");i.is(".search")&&$(".search__input-search").focus(),$("body").on("click",".wrapper",function(n){i.is(n.target)||$(".search__input-search").is(n.target)||(t.removeClass(a),e(),$("body").off("click",".wrapper"),$("html").removeAttr("style"))})}};$("body").on("click",'*[data-target="open-menu"]',function(e){e.preventDefault(),t($(".wrapper"),"wrapper_menu-open")}),$(".wrapper").on("swiperight",function(e){return $(".wrapper").is(".wrapper_menu-open")?(e.preventDefault(),!1):void(0===$(".slider").has(e.target).length&&0===$(".section__list_carusel").has(e.target).length&&t($(".wrapper"),"wrapper_menu-open"))}),$(".wrapper").on("swipeleft",function(e){return $(".wrapper").is(".wrapper_menu-open")?(t($(".wrapper"),"wrapper_menu-open"),void $("body").off("click",".wrapper")):(e.preventDefault(),!1)}),$("body").on("click",'*[data-target="open-search"]',function(e){e.preventDefault(),t($(".wrapper"),"wrapper_search-open"),$("body").on("submit",".search__form",function(e){e.preventDefault()}),$(".search__input-search").val("")}),$(".section__item-title").dotdotdot({ellipsis:"... ",height:40}),$(".orders__date").dotdotdot({ellipsis:"... ",height:40}),$(".orders__bakery_tags").dotdotdot({ellipsis:"... ",height:40,callback:function(e){40===$(this).siblings(".orders__date").height()&&$(this).dotdotdot({ellipsis:"... ",height:20})}});var a=function(e,t){e.hasClass(t+"_like")?e.removeClass(t+"_like").addClass(t+"_liked"):e.removeClass(t+"_liked").addClass(t+"_like")};$("body").on("click",".section__item-link .section__stats-btn_like,.section__item-link .section__stats-btn_liked",function(e){e.preventDefault(),a($(this),"section__stats-btn")}),$("body").on("click",".section__item-link .section__stats-btn_comments",function(e){e.preventDefault()}),$("body").on("click",".slider__item-buttons",function(){var e=$(this).find(".slider__icon");a(e,"slider__icon")}),$("body").on("click",".cake__stats-btn",function(){a($(this),"cake__stats-btn")});var i=function(e,t){var a=e.siblings("*[name=item_count]"),i=Number(a.val());if("plus"===t)i++;else{if(i<=1)return!1;i--}a.val(i)};$("body").on("click",".cake__input_btn, .cart__input_btn",function(e){var t=$(this);return i(t,t.data("val")),!1}),$(".owl-carousel").owlCarousel({items:1,nav:!0,navText:"",smartSpead:400,navSpeed:300,rewind:!0});var n=function(e){var t="tabs__link-item";e.addClass(t+"_active").siblings().removeClass(t+"_active"),s(e.index())},s=function(e){var t=$(".tabs__body-item");t.hide().eq(e).fadeIn().addClass(contentClass+"_active")};$("body").on("click",".tabs__link-item",function(e){n($(this))}),autosize($(".cart-form__input_textarea")),autosize($(".profile__form-input_textarea"));var r=function(e,t){e.addClass(t+"_active").siblings().removeClass(t+"_active")};$("body").on("click",".bakery__rating-item",function(e){r($(this),"bakery__rating-item")});var o=function(e){var t="tags__item";e.hasClass(t+"_active")?e.removeClass(t+"_active"):e.addClass(t+"_active")};$("body").on("click",".tags__item",function(){o($(this))});var l=function(){return $("html").attr("style")?$("html").removeAttr("style"):$("html").css("overflow-y","hidden")},c=function(e){var t=$(".modal"),a=$(".modal").find('.modal__inner[data-name="'+e+'"]');t.is(".modal_active")?(a.removeClass("modal__inner_active"),t.removeClass("modal_active"),l()):(l(),t.addClass("modal_active"),a.addClass("modal__inner_active"),t.on("click",function(e){a.is(e.target)||0!==a.has(e.target).length||(a.removeClass("modal__inner_active"),t.removeClass("modal_active"),l(),t.off("click"))}))};$("body").on("click",".modal__open, .modal__close",function(e){e.preventDefault(),c($(this).data("target"))})});