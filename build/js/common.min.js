$(document).ready(function(){var e=function(e,t){if(0===e.length)return!1;if(e.is("."+t))e.removeClass(t),$("html").removeAttr("style");else{e.addClass(t),$("html").css("overflow-y","hidden");var a="wrapper_menu-open"===t?$(".menu"):$(".search");$("body").on("click",".wrapper",function(n){a.is(n.target)||$(".search__input-search").is(n.target)||(e.removeClass(t),$("body").off("click",".wrapper"))})}};$("body").on("click",'*[data-target="open-menu"]',function(t){t.preventDefault(),e($(".wrapper"),"wrapper_menu-open")}),$(".wrapper").on("swiperight",function(t){return $(".wrapper").is(".wrapper_menu-open")?(t.preventDefault(),!1):void(0===$(".slider").has(t.target).length&&0===$(".section__list_carusel").has(t.target).length&&e($(".wrapper"),"wrapper_menu-open"))}),$(".wrapper").on("swipeleft",function(t){return $(".wrapper").is(".wrapper_menu-open")?(e($(".wrapper"),"wrapper_menu-open"),void $("body").off("click",".wrapper")):(t.preventDefault(),!1)}),$("body").on("click",'*[data-target="open-search"]',function(t){t.preventDefault(),e($(".wrapper"),"wrapper_search-open"),$(".search__input-search").focus(),$("body").on("submit",".search__form",function(e){e.preventDefault()}),$(".search__input-search").val("")}),$(".section__item-title").dotdotdot({ellipsis:"... ",height:40}),$(".orders__date").dotdotdot({ellipsis:"... ",height:40}),$(".orders__bakery_tags").dotdotdot({ellipsis:"... ",height:40,callback:function(e){40===$(this).siblings(".orders__date").height()&&$(this).dotdotdot({ellipsis:"... ",height:20})}});var t=function(e,t){e.hasClass(t+"_like")?e.removeClass(t+"_like").addClass(t+"_liked"):e.removeClass(t+"_liked").addClass(t+"_like")};$("body").on("click",".section__item-link .section__stats-btn_like,.section__item-link .section__stats-btn_liked",function(e){e.preventDefault(),t($(this),"section__stats-btn")}),$("body").on("click",".section__item-link .section__stats-btn_comments",function(e){e.preventDefault()}),$("body").on("click",".slider__item-buttons",function(){var e=$(this).find(".slider__icon");t(e,"slider__icon")}),$("body").on("click",".cake__stats-btn",function(){t($(this),"cake__stats-btn")});var a=function(e,t){var a=e.siblings("*[name=item_count]"),n=Number(a.val());if("plus"===t)n++;else{if(n<=1)return!1;n--}a.val(n)};$("body").on("click",".cake__input_btn, .cart__input_btn",function(e){var t=$(this);return a(t,t.data("val")),!1}),$(".owl-carousel").owlCarousel({items:1,nav:!0,navText:"",smartSpead:400,navSpeed:300,rewind:!0});var n=function(e){var t="tabs__link-item";e.addClass(t+"_active").siblings().removeClass(t+"_active"),i(e.index())},i=function(e){var t=$(".tabs__body-item");t.hide().eq(e).fadeIn().addClass(contentClass+"_active")};$("body").on("click",".tabs__link-item",function(e){n($(this))}),autosize($(".cart-form__input_textarea")),autosize($(".profile__form-input_textarea"));var o=function(e,t){e.addClass(t+"_active").siblings().removeClass(t+"_active")};$("body").on("click",".bakery__rating-item",function(e){o($(this),"bakery__rating-item")});var s=function(e){var t="tags__item";e.hasClass(t+"_active")?e.removeClass(t+"_active"):e.addClass(t+"_active")};$("body").on("click",".tags__item",function(){s($(this))});var r=function(){$(window).on({wheel:function(e){e.preventDefault()},touchmove:function(e){e.preventDefault()}})},l=function(e){var t=$(".modal"),a=$(".modal").find('.modal__inner[data-name="'+e+'"]');t.is(".modal_active")?(a.removeClass("modal__inner_active"),t.removeClass("modal_active"),$(window).off("touchmove"),$(window).off("wheel")):(r(),t.addClass("modal_active"),a.addClass("modal__inner_active"),t.on("click",function(e){a.is(e.target)||0!==a.has(e.target).length||(a.removeClass("modal__inner_active"),t.removeClass("modal_active"),t.off("click"),$(window).off("touchmove"),$(window).off("wheel"))}))};$("body").on("click",".modal__open, .modal__close",function(e){e.preventDefault(),l($(this).data("target"))})});